"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[6127],{23682:function(n,t,e){function r(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}e.d(t,{Z:function(){return r}})},90394:function(n,t,e){function r(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}e.d(t,{Z:function(){return r}})},79021:function(n,t,e){e.d(t,{Z:function(){return a}});var r=e(90394),o=e(34327),u=e(23682);function a(n,t){(0,u.Z)(2,arguments);var e=(0,o.Z)(n),a=(0,r.Z)(t);return isNaN(a)?new Date(NaN):a?(e.setDate(e.getDate()+a),e):e}},59699:function(n,t,e){e.d(t,{Z:function(){return i}});var r=e(90394),o=e(39244),u=e(23682),a=36e5;function i(n,t){(0,u.Z)(2,arguments);var e=(0,r.Z)(t);return(0,o.Z)(n,e*a)}},39244:function(n,t,e){e.d(t,{Z:function(){return a}});var r=e(90394),o=e(34327),u=e(23682);function a(n,t){(0,u.Z)(2,arguments);var e=(0,o.Z)(n).getTime(),a=(0,r.Z)(t);return new Date(e+a)}},32182:function(n,t,e){e.d(t,{Z:function(){return a}});var r=e(90394),o=e(34327),u=e(23682);function a(n,t){(0,u.Z)(2,arguments);var e=(0,o.Z)(n),a=(0,r.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return e;var i=e.getDate(),c=new Date(e.getTime());c.setMonth(e.getMonth()+a+1,0);var f=c.getDate();return i>=f?c:(e.setFullYear(c.getFullYear(),c.getMonth(),i),e)}},93752:function(n,t,e){e.d(t,{Z:function(){return u}});var r=e(34327),o=e(23682);function u(n){(0,o.Z)(1,arguments);var t=(0,r.Z)(n);return t.setHours(23,59,59,999),t}},70390:function(n,t,e){e.d(t,{Z:function(){return o}});var r=e(93752);function o(){return(0,r.Z)(Date.now())}},47538:function(n,t,e){function r(){var n=new Date,t=n.getFullYear(),e=n.getMonth(),r=n.getDate(),o=new Date(0);return o.setFullYear(t,e,r-1),o.setHours(23,59,59,999),o}e.d(t,{Z:function(){return r}})},59429:function(n,t,e){e.d(t,{Z:function(){return u}});var r=e(34327),o=e(23682);function u(n){(0,o.Z)(1,arguments);var t=(0,r.Z)(n);return t.setHours(0,0,0,0),t}},13250:function(n,t,e){e.d(t,{Z:function(){return u}});var r=e(34327),o=e(23682);function u(n){(0,o.Z)(1,arguments);var t=(0,r.Z)(n);return t.setDate(1),t.setHours(0,0,0,0),t}},27088:function(n,t,e){e.d(t,{Z:function(){return o}});var r=e(59429);function o(){return(0,r.Z)(Date.now())}},83008:function(n,t,e){function r(){var n=new Date,t=n.getFullYear(),e=n.getMonth(),r=n.getDate(),o=new Date(0);return o.setFullYear(t,e,r-1),o.setHours(0,0,0,0),o}e.d(t,{Z:function(){return r}})},34327:function(n,t,e){e.d(t,{Z:function(){return u}});var r=e(23682);function o(n){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o(n)}function u(n){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===o(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):("string"!=typeof n&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},7323:function(n,t,e){e.d(t,{p:function(){return r}});var r=function(n,t){return n&&n.config.components.includes(t)}},57066:function(n,t,e){e.d(t,{Lo:function(){return a},IO:function(){return i},qv:function(){return c},sG:function(){return l}});var r=e(97330),o=e(85415),u=e(38346),a=function(n,t){return n.callWS(Object.assign({type:"config/area_registry/create"},t))},i=function(n,t,e){return n.callWS(Object.assign({type:"config/area_registry/update",area_id:t},e))},c=function(n,t){return n.callWS({type:"config/area_registry/delete",area_id:t})},f=function(n){return n.sendMessagePromise({type:"config/area_registry/list"}).then((function(n){return n.sort((function(n,t){return(0,o.$)(n.name,t.name)}))}))},s=function(n,t){return n.subscribeEvents((0,u.D)((function(){return f(n).then((function(n){return t.setState(n,!0)}))}),500,!0),"area_registry_updated")},l=function(n,t){return(0,r.B)("_areaRegistry",f,s,n,t)}},57292:function(n,t,e){e.d(t,{jL:function(){return c},t1:function(){return f},_Y:function(){return s},q4:function(){return y}});var r=e(97330),o=e(91741),u=e(38346);function a(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,u=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw u}}}}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var c=function(n,t,e){return n.name_by_user||n.name||e&&function(n,t){var e,r=a(t||[]);try{for(r.s();!(e=r.n()).done;){var u=e.value,i="string"==typeof u?u:u.entity_id,c=n.states[i];if(c)return(0,o.C)(c)}}catch(f){r.e(f)}finally{r.f()}}(t,e)||t.localize("ui.panel.config.devices.unnamed_device")},f=function(n,t,e){return n.callWS(Object.assign({type:"config/device_registry/update",device_id:t},e))},s=function(n){return n.sendMessagePromise({type:"config/device_registry/list"})},l=function(n,t){return n.subscribeEvents((0,u.D)((function(){return s(n).then((function(n){return t.setState(n,!0)}))}),500,!0),"device_registry_updated")},y=function(n,t){return(0,r.B)("_dr",s,l,n,t)}},76478:function(n,t,e){e.r(t),e.d(t,{OriginalStatesStrategy:function(){return m}});var r=e(28101),o=e(7323),u=e(11950),a=e(57066),i=e(57292),c=e(55424),f=e(74186),s=e(38926);function l(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==e)return;var r,o,u=[],a=!0,i=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(u.push(r.value),!t||u.length!==t);a=!0);}catch(c){i=!0,o=c}finally{try{a||null==e.return||e.return()}finally{if(i)throw o}}return u}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return y(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function p(n,t,e,r,o,u,a){try{var i=n[u](a),c=i.value}catch(f){return void e(f)}i.done?t(c):Promise.resolve(c).then(r,o)}function d(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var u=n.apply(t,e);function a(n){p(u,r,o,a,i,"next",n)}function i(n){p(u,r,o,a,i,"throw",n)}a(void 0)}))}}function g(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var v=!1,m=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,y,p,m;return t=n,e=null,y=[{key:"generateView",value:(m=d(regeneratorRuntime.mark((function n(t){var e,y,p,d,g,m,b,h,w,Z;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((e=t.hass).config.state!==r.UE){n.next=3;break}return n.abrupt("return",{cards:[{type:"starting"}]});case 3:if(!e.config.safe_mode){n.next=5;break}return n.abrupt("return",{cards:[{type:"safe-mode"}]});case 5:return v||(v=!0,(0,a.sG)(e.connection,(function(){})),(0,i.q4)(e.connection,(function(){})),(0,f.LM)(e.connection,(function(){}))),(0,o.p)(e,"energy")&&(y=(0,c.ZC)(e)),n.next=9,Promise.all([(0,u.l)(e.connection,a.sG),(0,u.l)(e.connection,i.q4),(0,u.l)(e.connection,f.LM),e.loadBackendTranslation("title")]);case 9:if(p=n.sent,d=l(p,4),g=d[0],m=d[1],b=d[2],h=d[3],!y){n.next=24;break}return n.prev=16,n.next=19,y;case 19:w=n.sent,n.next=24;break;case 22:n.prev=22,n.t0=n.catch(16);case 24:return Z=(0,s.AP)(g,m,b,e.states,h,w),e.config.components.includes("geo_location")&&Z&&Z.cards&&Z.cards.push({type:"map",geo_location_sources:["all"]}),0===Z.cards.length&&Z.cards.push({type:"empty-state"}),n.abrupt("return",Z);case 28:case"end":return n.stop()}}),n,null,[[16,22]])}))),function(n){return m.apply(this,arguments)})},{key:"generateDashboard",value:(p=d(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{title:t.hass.config.location_name,views:[{strategy:{type:"original-states"}}]});case 1:case"end":return n.stop()}}),n)}))),function(n){return p.apply(this,arguments)})}],e&&g(t.prototype,e),y&&g(t,y),n}()}}]);