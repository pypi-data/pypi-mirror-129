(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{569:function(t,e,n){"use strict";var o=n(19),r=(n(151),n(4).default.extend({props:{metadata:{type:Object,default:function(){return{}},required:!0}},data:function(){return{headers:[{text:this.$t("annotation.key"),align:"left",value:"key",sortable:!1},{text:this.$t("annotation.value"),align:"left",value:"value",sortable:!1}]}},computed:{metaArray:function(){for(var t=[],e=0,n=Object.entries(this.metadata);e<n.length;e++){var r=Object(o.a)(n[e],2),l=r[0],f=r[1];t.push({key:l,value:f})}return t}}})),l=n(82),f=n(85),d=n.n(f),c=n(937),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.metaArray,"item-key":"key","hide-default-footer":"","no-data-text":t.$t("vuetify.noDataAvailable"),"disable-pagination":""},scopedSlots:t._u([{key:"item.value",fn:function(e){var o=e.item;return[o.key.indexOf("im_url")>-1?[n("a",{attrs:{href:o.value,target:"_blank"}},[n("img",{staticStyle:{height:"250px"},attrs:{src:o.value}})])]:o.key.indexOf("url")>-1?[n("a",{attrs:{href:o.value,target:"_blank"}},[t._v(t._s(o.value))])]:[t._v("\n      "+t._s(o.value)+"\n    ")]]}}],null,!0)})}),[],!1,null,null,null);e.a=component.exports;d()(component,{VDataTable:c.a})},671:function(t,e,n){"use strict";var o=n(4),r=n(646),l=n.n(r),f=(n(647),o.default.extend({components:{VAnnotator:l.a},props:{dark:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},text:{type:String,default:"",required:!0},entities:{type:Array,default:function(){return[]},required:!0},entityLabels:{type:Array,default:function(){return[]},required:!0},relations:{type:Array,default:function(){return[]}},relationLabels:{type:Array,default:function(){return[]}},allowOverlapping:{type:Boolean,default:!1,required:!1},graphemeMode:{type:Boolean,default:!1}},data:function(){return{showMenu:!1,x:0,y:0,startOffset:0,endOffset:0,entityId:-1}},computed:{hasAnySuffixKey:function(){return this.entityLabels.some((function(label){return null!==label.suffixKey}))}},methods:{setOffset:function(t,e){this.startOffset=t,this.endOffset=e},setEntity:function(t){this.entityId=t},showEntityLabelMenu:function(t){var e=this;t.preventDefault(),this.showMenu=!1,this.x=t.clientX||t.changedTouches[0].clientX,this.y=t.clientY||t.changedTouches[0].clientY,this.$nextTick((function(){e.showMenu=!0}))},handleAddEvent:function(t,e,n){this.setOffset(e,n),this.showEntityLabelMenu(t)},handleEntityClickEvent:function(t,e){this.setEntity(e),this.showEntityLabelMenu(t)},addOrUpdateEntity:function(t){-1!==this.entityId?this.updateEntity(t):this.addEntity(t),this.showMenu=!1,this.startOffset=0,this.endOffset=0,this.entityId=-1},addEntity:function(t){this.$emit("addEntity",this.startOffset,this.endOffset,t)},updateEntity:function(t){this.$emit("click:entity",this.entityId,t)},deleteEntity:function(t){this.$emit("contextmenu:entity",t.id)},updateRelation:function(){console.log("updateRelation")},deleteRelation:function(t){this.$emit("contextmenu:relation",t.id)}}})),d=n(82),c=n(85),h=n.n(c),y=n(676),v=n(264),m=n(180),x=n(266),O=n(97),E=n(540),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-annotator",{attrs:{dark:t.$vuetify.theme.dark,rtl:t.rtl,text:t.text,entities:JSON.stringify(t.entities),"entity-labels":t.entityLabels,relations:t.relations,"relation-labels":t.relationLabels,"allow-overlapping":t.allowOverlapping,"grapheme-mode":t.graphemeMode},on:{"add:entity":t.handleAddEvent,"click:entity":t.handleEntityClickEvent,"click:relation":t.updateRelation,"contextmenu:entity":t.deleteEntity,"contextmenu:relation":t.deleteRelation}}),t._v(" "),n("v-menu",{attrs:{"position-x":t.x,"position-y":t.y,absolute:"","offset-y":""},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","min-width":"150","max-height":"400"}},t._l(t.entityLabels,(function(label,i){return n("v-list-item",{directives:[{name:"shortkey",rawName:"v-shortkey",value:[label.suffixKey],expression:"[label.suffixKey]"}],key:i,on:{shortkey:function(e){return t.addOrUpdateEntity(label.id)},click:function(e){return t.addOrUpdateEntity(label.id)}}},[t.hasAnySuffixKey?n("v-list-item-action",[label.suffixKey?n("v-chip",{attrs:{color:label.backgroundColor,outlined:"",small:""},domProps:{textContent:t._s(label.suffixKey)}}):n("span",{staticClass:"mr-8"})],1):t._e(),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(label.text)}})],1)],1)})),1)],1)],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VChip:y.a,VList:v.a,VListItem:m.a,VListItemAction:x.a,VListItemContent:O.a,VListItemTitle:O.c,VMenu:E.a})},681:function(t,e,n){var content=n(873);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("0b994bf0",content,!0,{sourceMap:!1})},872:function(t,e,n){"use strict";n(681)},873:function(t,e,n){var o=n(28)(!1);o.push([t.i,'.annotation-text[data-v-aed58ab2]{font-size:1.25rem!important;font-weight:500;line-height:2rem;font-family:"Roboto",sans-serif!important;opacity:.6}',""]),t.exports=o},943:function(t,e,n){"use strict";n.r(e);n(10),n(13),n(187),n(589),n(77);var o=n(671),r=n(569),l={components:{EntityEditor:o.a,ListMetadata:r.a},layout:"demo",data:function(){return{allowOverlapping:!1,rtl:!1,entityLabels:[{id:4,text:"LOC",prefixKey:null,suffixKey:"l",color:"#7c20e0",textColor:"#ffffff"},{id:5,text:"MISC",prefixKey:null,suffixKey:"m",color:"#fbb028",textColor:"#000000"},{id:6,text:"ORG",prefixKey:null,suffixKey:"o",color:"#e6d176",textColor:"#000000"},{id:7,text:"PER",prefixKey:null,suffixKey:"p",color:"#6a74b9",textColor:"#ffffff"}],relations:[{id:0,fromId:16,toId:17,labelId:0}],relationLabels:[{id:0,text:"isLorem",color:"#ffffff"}],currentDoc:{id:8,text:"After bowling Somerset out for 83 on the opening morning at Grace Road, Leicestershire extended their first innings by 94 runs before being bowled out for 296 with England discard Andy Caddick taking three for 83.",annotations:[{id:17,prob:0,label:4,startOffset:60,endOffset:70,user:1},{id:19,prob:0,label:4,startOffset:164,endOffset:171,user:1},{id:16,prob:0,label:6,startOffset:14,endOffset:22,user:1},{id:18,prob:0,label:6,startOffset:72,endOffset:86,user:1},{id:20,prob:0,label:7,startOffset:180,endOffset:192,user:1}],meta:{wikiPageId:2},annotation_approver:null}}},watch:{rtl:function(){this.relations=[],this.currentDoc.annotations=[],this.rtl?this.currentDoc.text="داستان SVG Tiny 1.2 طولا ني است.":this.currentDoc.text="After bowling Somerset out for 83 on the opening morning at Grace Road, Leicestershire extended their first innings by 94 runs before being bowled out for 296 with England discard Andy Caddick taking three for 83."}},methods:{deleteEntity:function(t){var e=this;this.currentDoc.annotations=this.currentDoc.annotations.filter((function(e){return e.id!==t})),this.relations.forEach((function(n){n.fromId!==t&&n.toId!==t||e.deleteRelation(n.id)}))},updateEntity:function(t,e){var n=this.currentDoc.annotations.findIndex((function(e){return e.id===t}));this.currentDoc.annotations[n].label=e},addEntity:function(t,e,n){var o={id:Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER)),startOffset:t,endOffset:e,label:n};this.currentDoc.annotations.push(o)},deleteRelation:function(t){this.relations=this.relations.filter((function(e){return e.id!==t}))}}},f=(n(872),n(82)),d=n(85),c=n.n(d),h=n(300),y=n(570),v=n(585),m=n(551),x=n(558),O=n(586),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("v-container",{attrs:{fluid:""}},[n("div",{staticClass:"mb-2"},[n("v-btn",{staticClass:"text-capitalize mr-2",attrs:{text:"",outlined:""},on:{click:function(e){t.allowOverlapping=!t.allowOverlapping}}},[t._v("\n        Overlapping("+t._s(t.allowOverlapping)+")\n      ")]),t._v(" "),n("v-btn",{attrs:{text:"",outlined:""},on:{click:function(e){t.rtl=!t.rtl}}},[t._v("\n        RTL("),n("span",{staticClass:"text-capitalize"},[t._v(t._s(t.rtl))]),t._v(")\n      ")])],1),t._v(" "),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-card",[n("div",{staticClass:"annotation-text pa-4"},[n("entity-editor",{attrs:{dark:t.$vuetify.theme.dark,rtl:t.rtl,text:t.currentDoc.text,entities:t.currentDoc.annotations,"entity-labels":t.entityLabels,relations:t.relations,"relation-labels":t.relationLabels,"allow-overlapping":t.allowOverlapping},on:{addEntity:t.addEntity,"click:entity":t.updateEntity,"contextmenu:entity":t.deleteEntity,"contextmenu:relation":t.deleteRelation}})],1)])],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"3"}},[n("list-metadata",{attrs:{metadata:t.currentDoc.meta}})],1)],1)],1)],1)}),[],!1,null,"aed58ab2",null);e.default=component.exports;c()(component,{VBtn:h.a,VCard:y.a,VCol:v.a,VContainer:m.a,VMain:x.a,VRow:O.a})}}]);