(this["webpackJsonpmatlab-proxy"]=this["webpackJsonpmatlab-proxy"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n.n(r),s=n(2),o=n(8),i=(n(31),n(6)),l=n(64),d=(n(32),n(0));var u=function(e){var t=e.confirm,n=e.cancel,a=e.children;return Object(d.jsx)("div",{className:"modal show",id:"confirmation",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmation-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Confirmation"})}),Object(d.jsx)("div",{className:"modal-body",children:a}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)("button",{onClick:n,"data-testid":"cancelButton",className:"btn companion_btn btn_color_blue",children:"Cancel"}),Object(d.jsx)("button",{onClick:t,"data-testid":"confirmButton",className:"btn btn_color_blue",children:"Confirm"})]})]})})})},b=n(19),j=n.n(b),h=n(12);n(39);var m=function(e){var t=e.children,n=e.transparent,a=void 0!==n&&n;return Object(d.jsx)("div",{id:"overlay",style:{backgroundColor:a?"transparent":null},children:t})},f=n(4),p=function(e){return e.tutorialHidden},g=function(e){return e.serverStatus.matlabStatus},O=function(e){return e.serverStatus.matlabVersion},v=function(e){return e.serverStatus.wsEnv},x=function(e){return e.serverStatus.isSubmitting},y=function(e){return e.serverStatus.hasFetched},N=function(e){return e.serverStatus.licensingInfo},A=function(e){return e.loadUrl},w=function(e){return e.error},T=Object(f.a)((function(e){return e.triggerPosition}),(function(e){return null===e?void 0:e})),E=Object(f.a)((function(e){return e.envConfig}),(function(e){return null!==e&&e})),_=Object(f.a)(w,(function(e){return null!==e})),S=Object(f.a)((function(e){return e.serverStatus.fetchFailCount}),(function(e){return e>=5})),k=Object(f.a)(g,(function(e){return"up"===e})),M=Object(f.a)(g,(function(e){return"up"===e||"starting"===e})),L=Object(f.a)(g,_,(function(e,t){return"up"===e&&!t})),C=Object(f.a)((function(e){return e.overlayVisibility}),k,_,(function(e,t,n){return!t||e||n})),I=Object(f.a)((function(e){return e.serverStatus}),(function(e){return e.fetchAbortController})),B=Object(f.a)(g,x,(function(e,t){return t?null:"up"===e?1e4:5e3})),R=Object(f.a)(N,(function(e){return Object.prototype.hasOwnProperty.call(e,"type")})),U=Object(f.a)(N,R,(function(e,t){return t&&"MHLM"===e.type})),D=Object(f.a)(N,U,(function(e,t){return t?e.emailAddress:""})),P=Object(f.a)(g,(function(e){return"starting"===e})),H=Object(f.a)(C,_,(function(e,t){return e||t})),V=Object(f.a)(g,_,(function(e,t){switch(e){case"up":return{label:"Running",icon:"success",alert:"success"};case"starting":return{label:"Starting. This may take several minutes.",icon:"info-reverse",alert:"info",spinner:!0};case"down":var n={label:"Not running",icon:"info-reverse",alert:"info"};return t&&(n.icon="error",n.alert="danger"),n;default:throw new Error('Unknown MATLAB status: "'.concat(e,'".'))}})),F=n(5),G=n.n(F),J=n(7),W="SET_TRIGGER_POSITION",Q="SET_TUTORIAL_HIDDEN",X="SET_OVERLAY_VISIBILITY",Y="REQUEST_SERVER_STATUS",$="RECEIVE_SERVER_STATUS",q="REQUEST_SET_LICENSING",z="REQUEST_TERMINATE_INTEGRATION",K="REQUEST_STOP_MATLAB",Z="REQUEST_START_MATLAB",ee="RECEIVE_SET_LICENSING",te="RECEIVE_TERMINATE_INTEGRATION",ne="RECEIVE_STOP_MATLAB",ae="RECEIVE_START_MATLAB",re="RECEIVE_ERROR",ce="REQUEST_ENV_CONFIG",se="RECEIVE_ENV_CONFIG";function oe(e,t){return{type:W,x:e,y:t}}function ie(e){return{type:X,visibility:e}}function le(e){return function(t,n){return t({type:$,status:e,previousMatlabPending:P(n())})}}function de(e){return{type:ce,fetchAbortController:e}}function ue(e){return{type:q,fetchAbortController:e}}function be(e){return{type:ee,status:e}}function je(e){return{type:re,error:e}}function he(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t({type:Y,fetchAbortController:a}),e.prev=3,e.next=6,fetch("./get_status",{signal:a.signal});case 6:return r=e.sent,e.next=9,r.json();case 9:c=e.sent,t(le(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),t(je("Communication with server failed."));case 16:if(E(n())){e.next=18;break}return e.abrupt("return",t(function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t(de(a)),e.prev=3,e.next=6,fetch("./get_env_config",{signal:a.signal});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",t({type:se,config:c}));case 13:e.prev=13,e.t0=e.catch(3),t(je("Failed to fetch Env config."));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()));case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()}function me(e){return function(){var t=Object(J.a)(G.a.mark((function t(n,a){var r,c,s;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(a()).abort(),r=new AbortController,n(ue(r)),t.prev=3,t.next=6,fetch("./set_licensing_info",{method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:r.signal});case 6:return c=t.sent,t.next=9,c.json();case 9:return s=t.sent,t.abrupt("return",n(be(s)));case 13:t.prev=13,t.t0=t.catch(3),n(je("Communication with server failed."));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}()}function fe(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t(ue(a)),e.prev=3,e.next=6,fetch("./set_licensing_info",{method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin",signal:a.signal});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",t(be(c)));case 13:e.prev=13,e.t0=e.catch(3),t(je("Communication with server failed."));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()}function pe(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t({type:z,fetchAbortController:a}),e.prev=3,e.next=6,fetch("./terminate_integration",{method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin",signal:a.signal});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",t({type:te,status:c,loadUrl:"../"}));case 13:e.prev=13,e.t0=e.catch(3),t(je("Communication with server failed."));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()}function ge(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t({type:K,fetchAbortController:a}),e.prev=3,e.next=6,fetch("./stop_matlab",{method:"DELETE",mode:"same-origin",cache:"no-cache",credentials:"same-origin",signal:a.signal});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",t({type:ne,status:c}));case 13:e.prev=13,e.t0=e.catch(3),t(je("Communication with server failed."));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()}function Oe(){return function(){var e=Object(J.a)(G.a.mark((function e(t,n){var a,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(n()).abort(),a=new AbortController,t({type:Z,fetchAbortController:a}),e.prev=3,e.next=6,fetch("./start_matlab",{method:"PUT",mode:"same-origin",cache:"no-cache",credentials:"same-origin",signal:a.signal,headers:{"Content-Type":"application/json"},body:JSON.stringify({})});case 6:return r=e.sent,e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",t({type:ae,status:c}));case 13:e.prev=13,e.t0=e.catch(3),t(je("Communication with server failed."));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}()}n(41);var ve=function(){var e=Object(s.b)(),t=Object(s.c)(T),n=Object(s.c)(E),r=Object(a.useState)(!1),c=Object(i.a)(r,2),o=c[0],l=c[1],u=Object(a.useRef)(),b=""===n.extension_name?"MATLAB Web Desktop":"".concat(n.extension_name_short_description," - MATLAB Integration");Object(a.useEffect)((function(){var t=new IntersectionObserver((function(t){Object(i.a)(t,1)[0].isIntersecting||e(oe(window.innerWidth/2+27,0))}));return t.observe(u.current),function(){t.disconnect()}}),[e]);var f=Object(s.c)(H),g=Object(a.useCallback)((function(){return e(ie(!f))}),[f,e]),O=Object(s.c)(p),v=Object(s.c)(V),x=Object(a.useCallback)((function(t,n){l(!0),e(oe(n.x,n.y))}),[e,l]),y=Object(a.useCallback)((function(t,n){l(!1),e(oe(n.x,n.y))}),[e,l]),N=o?Object(d.jsx)(m,{transparent:!0}):null,A=O?null:Object(d.jsxs)("div",{id:"trigger-tutorial",className:"trigger-tutorial modal-content",children:[Object(d.jsxs)("p",{children:["To control the MATLAB session (for example to restart or sign out), click the ",Object(d.jsx)("span",{className:"icon-custom-trigger icon trigger-tutorial-icon",title:"tools icon"})," icon."]}),Object(d.jsx)("p",{children:"The color of the badge shows the MATLAB status."}),Object(d.jsxs)("p",{children:["To position this widget anywhere on screen, click and drag the ",Object(d.jsx)("span",{className:"drag-handle icon",title:"grab handle icon"})," icon."]}),Object(d.jsx)("button",{className:"btn btn_color_blue pull-right","data-testid":"tutorialCloseBtn",onClick:function(){e({type:Q,hidden:!0})},children:"Close"})]}),w=O?Object(d.jsx)(h.a,{id:"trigger-button-tooltip",place:"bottom",type:"info",effect:"solid"}):null;return Object(d.jsxs)(d.Fragment,{children:[N,Object(d.jsx)(j.a,{position:t,onDrag:x,onStop:y,handle:".card-body",bounds:"parent",children:Object(d.jsxs)("div",{ref:u,className:"card alert-".concat(v.alert),"data-testid":"overlayTrigger",children:[Object(d.jsxs)("div",{className:"card-body","data-testid":"cardBody",children:[Object(d.jsx)("span",{id:"drag-handle",className:"drag-handle"}),Object(d.jsx)("button",{type:"button",className:"trigger-btn",onClick:g,onMouseDown:function(e){return e.stopPropagation()},"aria-label":"Menu","data-for":"trigger-button-tooltip","data-tip":"Open the ".concat(b," settings"),children:Object(d.jsx)("span",{className:"icon-custom-trigger"})})]}),A]})}),w]})};n(42);var xe=function(e){var t=e.url;return Object(d.jsx)("div",{id:"MatlabJsd",children:Object(d.jsx)("iframe",{title:"MATLAB JSD",src:t,frameBorder:"0",allowFullScreen:!0})})};var ye=function(){var e=Object(s.b)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(s.c)(D),l=Object(s.c)(v),u=Object(a.useMemo)((function(){var e="login";return l.includes("integ")&&(e="".concat(e,"-").concat(l)),"https://".concat(e,".mathworks.com")}),[l]),b=Object(a.useState)(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))[0];Object(a.useEffect)((function(){var t=function(t){if(t.origin===u){var n=JSON.parse(t.data);"nonce"===n.event?function(e,t,n){var a={event:"load",clientTransactionId:e,transactionId:t,release:"",platform:"web",clientString:"desktop-jupyter",clientId:"",sourceId:n,profileTier:"MINIMUM",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,entitlementId:"",showPrivacyPolicy:!0,contextualText:"",legalText:"",cachedIdentifier:"",cachedRememberMe:"",token:"",unauthorized:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(a),"*")}(n.clientTransactionId,n.transactionId,b):"login"===n.event&&e(me({type:"MHLM",token:n.token,profileId:n.profileId,emailAddress:n.emailAddress,sourceId:b}))}};return window.addEventListener("message",t),function(){window.removeEventListener("message",t)}}),[e,b,u]),Object(a.useEffect)((function(){!0===r&&function(e){var t={event:"init",clientTransactionId:(Math.random()+"").substr(2),transactionId:"",release:"",platform:"",clientString:"desktop-jupyter",clientID:"",locale:"",profileTier:"",showCreateAccount:!1,showRememberMe:!1,showLicenseField:!1,licenseNo:"",cachedUsername:e,cachedRememberMe:!1};document.getElementById("loginframe").contentWindow.postMessage(JSON.stringify(t),"*")}(o)}),[r,o]);var j="".concat(u,"/embedded-login/v2/login.html");return Object(d.jsx)("div",{id:"MHLM",children:Object(d.jsx)("iframe",{id:"loginframe",title:"MathWorks Embedded Login",type:"text/html",height:"380",width:"100%",frameBorder:"0",src:j,onLoad:function(){return c(!0)},children:"Sorry your browser does not support inline frames."})})},Ne=/^[\d]+@[\w|\-|_|.]+$|^[\d]+@[\w|\-|_|.]+,[\d]+@[\w|\-|_|.]+,[\d]+@[\w|\-|_|.]+$/;var Ae=function(){var e,t=Object(s.b)(),n=Object(a.useState)(""),r=Object(i.a)(n,2),c=r[0],o=r[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),b=u[0],j=u[1],h=(e=c,Ne.test(e));return Object(d.jsx)("div",{id:"NLM",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(me({type:"NLM",connectionString:c}))},children:[Object(d.jsxs)("div",{className:"form-group has-feedback ".concat(b?h?"has-success":"has-error":""),children:[Object(d.jsx)("label",{htmlFor:"nlm-connection-string",children:"License Server Address"}),Object(d.jsx)("input",{id:"nlm-connection-string",type:"text",required:!0,placeholder:"port@hostname",className:"form-control","aria-invalid":!h,value:c,onChange:function(e){j(!0),o(e.target.value)}}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-remove"}),Object(d.jsx)("span",{className:"glyphicon form-control-feedback glyphicon-ok"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit",className:"btn btn_color_blue",disabled:!h})]})})};n(43);var we=function(){var e=Object(a.useState)("mhlm"),t=Object(i.a)(e,2),n=t[0],r=t[1],c="mhlm"===n?"active":"",s="mhlm"===n?"true":"false",o="nlm"===n?"active":"",l="nlm"===n?"true":"false";return Object(d.jsx)("div",{className:"modal show",id:"setup-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"setup-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsx)("div",{className:"modal-content",children:Object(d.jsx)("div",{className:"modal-body",children:Object(d.jsxs)("div",{className:"tab-container",children:[Object(d.jsxs)("ul",{id:"setup-tabs",className:"nav nav-tabs",role:"tablist",children:[Object(d.jsx)("li",{role:"presentation",className:c,children:Object(d.jsx)("a",{href:"#mhlm",id:"mhlm-tab",onClick:function(e){e.preventDefault(),r("mhlm")},role:"tab","aria-controls":"mhlm","aria-expanded":s,children:"Online License Manager"})}),Object(d.jsx)("li",{role:"presentation",className:o,children:Object(d.jsx)("a",{href:"#nlm",id:"nlm-tab",onClick:function(e){e.preventDefault(),r("nlm")},role:"tab","aria-controls":"nlm","aria-expanded":l,children:"Network License Manager"})})]}),Object(d.jsxs)("div",{id:"setup-tabs-content",className:"tab-content",children:[Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(c),id:"mhlm","aria-labelledby":"mhlm-tab",children:Object(d.jsx)(ye,{})}),Object(d.jsx)("div",{role:"tabpanel",className:"tab-pane ".concat(o),id:"nlm","aria-labelledby":"nlm-tab",children:Object(d.jsx)(Ae,{})}),Object(d.jsx)("div",{children:Object(d.jsxs)("p",{id:"LicensingGathererNote",children:["For more details, see\xa0",Object(d.jsx)("a",{href:"https://github.com/mathworks/jupyter-matlab-proxy/blob/main/MATLAB-Licensing-Info.md",target:"_blank",rel:"noopener noreferrer",children:"MATLAB Licensing information"})]})})]})]})})})})})},Te=(n(44),{"sign-out":["NetworkLicensingError","EntitlementError"],restart:["OnlineLicensingError"]});var Ee=function(e){var t=e.callback,n=Object(s.c)(x),r=Object(s.c)(R),c=Object(s.c)(U),o=Object(s.c)(M),i=Object(s.c)(O),l=Object(s.c)(w),u=r&&!n,b=Object(a.useMemo)((function(){return"%0D%0A\nThank you for providing feedback.%0D%0A\n%0D%0A\nMATLAB version: ".concat(i,"%0D%0A")}),[i]),j={START:{type:"confirmation",message:"Are you sure you want to ".concat(o?"re":"","start MATLAB?"),callback:Oe},STOP:{type:"confirmation",message:"Are you sure you want to stop MATLAB?",callback:ge},TERMINATE:{type:"confirmation",message:"Are you sure you want to terminate MATLAB and this Jupyter integration?",callback:pe},SIGN_OUT:{type:"confirmation",message:"Are you sure you want to ".concat(c?"sign out of MATLAB":"unset the connection string","?"),callback:fe},HELP:{type:"help"}};function m(e){var t="btn companion_btn ";if(l){if((Te[e]||[]).includes(l.type))return t+"btn_color_blue"}else if("start"===e)return t+"btn_color_blue";return t+"btn_color_mediumgray"}return Object(d.jsxs)("div",{id:"controls",className:"labels-on-top",children:[Object(d.jsxs)("button",{id:"startMatlab","data-testid":"startMatlabBtn",className:m(o?"restart":"start"),onClick:function(){return t(j.START)},disabled:!r,"data-for":"control-button-tooltip","data-tip":"".concat(o?"Restart":"Start","  your MATLAB session"),children:[Object(d.jsx)("span",{className:"icon-custom-".concat(o?"re":"","start")}),Object(d.jsx)("span",{className:"btn-label",children:"".concat(o?"Restart":"Start"," MATLAB Session")})]}),Object(d.jsxs)("button",{id:"stopMatlab","data-testid":"stopMatlabBtn",className:m("stop"),onClick:function(){return t(j.STOP)},disabled:!o,"data-for":"control-button-tooltip","data-tip":"Stop your MATLAB session",children:[Object(d.jsx)("span",{className:"icon-custom-stop"}),Object(d.jsx)("span",{className:"btn-label",children:"Stop MATLAB Session"})]}),Object(d.jsxs)("button",{id:"unsetLicensing","data-testid":"unsetLicensingBtn",className:m("sign-out"),onClick:function(){return t(j.SIGN_OUT)},disabled:!u,"data-for":"control-button-tooltip","data-tip":c?"Sign out":"Unset the network license manager server address",children:[Object(d.jsx)("span",{className:"icon-custom-sign-out"}),Object(d.jsx)("span",{className:"btn-label",children:c?"Sign Out":"Unset License Server Address"})]}),Object(d.jsxs)("a",{id:"feedback","data-testid":"feedbackLink",className:"btn btn_color_mediumgray companion_btn",href:"mailto:jupyter-support@mathworks.com?subject=MATLAB Integration for Jupyter Feedback&body=".concat(b),"data-for":"control-button-tooltip","data-tip":"Send feedback (opens your default email application)",children:[Object(d.jsx)("span",{className:"icon-custom-feedback"}),Object(d.jsx)("span",{className:"btn-label",children:"Feedback"})]}),Object(d.jsxs)("button",{id:"Help","data-testid":"helpBtn",className:"btn btn_color_mediumgray companion_btn",onClick:function(){return t(j.HELP)},"data-for":"control-button-tooltip","data-tip":"See a description of the buttons",children:[Object(d.jsx)("span",{className:"icon-custom-help"}),Object(d.jsx)("span",{className:"btn-label",children:"Help"})]}),Object(d.jsx)(h.a,{id:"control-button-tooltip",place:"top",type:"info",effect:"solid"})]})},_e=n(10),Se=n.n(_e);n(57);var ke=function(e){var t,n=e.closeHandler,r=e.children,c=Object(s.c)(N),o=Object(s.c)(w),l=Object(s.c)(L),u=Object(a.useState)(!1),b=Object(i.a)(u,2),j=b[0],h=b[1];switch(null===c||void 0===c?void 0:c.type){case"MHLM":t={label:"Online License Manager (".concat(c.emailAddress,")")};break;case"NLM":t={label:"Network License Manager (".concat(c.connectionString,")")};break;default:t={label:"None"}}var m=Object(s.c)(V),f=o?Object(d.jsxs)("div",{className:"error-container alert alert-danger",children:[Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:"Error"})}),Object(d.jsx)(Se.a,{children:Object(d.jsx)("div",{className:"error-text",children:o.message})})]}):null,p=o&&null!==o.logs&&o.logs.length>0?Object(d.jsxs)("div",{className:"expand_collapse error-logs-container",children:[Object(d.jsxs)("h4",{className:"expand_trigger ".concat(j?"expanded":"collapsed"),onClick:function(){h(!j)},children:[Object(d.jsx)("span",{className:"icon-arrow-open-down"}),Object(d.jsx)("span",{className:"icon-arrow-open-right"}),"Error logs"]}),Object(d.jsx)("div",{id:"error-logs",className:"expand_target error-container alert alert-danger ".concat(j?"expanded":"collapsed"),"aria-expanded":j,children:Object(d.jsx)(Se.a,{children:Object(d.jsx)("div",{className:"error-msg",children:o.logs.join("\n").trim()})})})]}):null;return Object(d.jsx)("div",{className:"modal show",id:"information",onClick:l?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"information-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-".concat(m.alert),children:[Object(d.jsxs)("div",{className:"modal-header",children:[l&&Object(d.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(d.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(d.jsx)("span",{className:"alert_icon icon-alert-".concat(m.icon)}),Object(d.jsx)("h4",{className:"modal-title alert_heading",id:"information-dialog-title",children:"Status Information"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("table",{className:"details",children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"MATLAB Status:"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("span",{id:"spinner",className:m.spinner?"show":"hidden"}),m.label]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Licensing:"}),Object(d.jsx)("td",{children:t.label})]})]})}),f,p]}),Object(d.jsx)("div",{className:"modal-footer",children:r})]})})})};n(58);var Me=function(e){var t=e.closeHandler,n=e.dismissAllHandler,a=Object(s.c)(L),r=Object(s.c)(E),c=r.doc_url,o=""===r.extension_name?"MATLAB Web Desktop":"MATLAB Integration for ".concat(r.extension_name_short_description);return Object(d.jsx)("div",{className:"modal show",id:"help",onClick:a?function(e){e.target===e.currentTarget&&(e.preventDefault(),n())}:null,tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-header",children:Object(d.jsx)("h4",{className:"modal-title",id:"confirmation-dialog-title",children:"Help"})}),Object(d.jsxs)("div",{className:"modal-body help",children:[Object(d.jsxs)("p",{children:["The status panel shows you options to manage the ",Object(d.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:o}),"."]}),Object(d.jsx)("p",{children:"Use the buttons in the status panel to:"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"icon-custom-start",children:"Start your MATLAB session. Available if MATLAB is stopped."}),Object(d.jsx)("p",{className:"icon-custom-restart",children:"Restart your MATLAB session. Available if MATLAB is running or starting."}),Object(d.jsx)("p",{className:"icon-custom-stop",children:"Stop your MATLAB session. Use this option if you want to free up RAM and CPU resources. Available if MATLAB is running or starting."}),Object(d.jsxs)("p",{className:"icon-custom-sign-out",children:["Sign out of MATLAB. Use this to stop MATLAB and to sign in with an alternative account. Available if using online licensing.",Object(d.jsx)("br",{}),"Unset network license manager server address. Use this to stop MATLAB and enter new licensing information. Available if using network license manager."]}),Object(d.jsx)("p",{className:"icon-custom-feedback",children:"Send feedback about the ".concat(o,". This action opens your default email application.")})]})]}),Object(d.jsx)("div",{className:"modal-footer",children:Object(d.jsx)("button",{onClick:t,"data-testid":"backBtn",className:"btn btn_color_blue",children:"Back"})})]})})})};n(59);var Le=function(e){var t=e.message,n=e.logs,a=e.children,r=n?Object(d.jsx)("p",{className:"error-msg",children:n}):null;return Object(d.jsx)("div",{className:"modal show",id:"error",tabIndex:"-1",role:"dialog","aria-labelledby":"help-dialog-title",children:Object(d.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(d.jsxs)("div",{className:"modal-content alert alert-danger",children:[Object(d.jsxs)("div",{className:"modal-header",children:[Object(d.jsx)("span",{className:"alert_icon icon-alert-error"}),Object(d.jsx)("h4",{className:"modal-title alert_heading",children:"Error"})]}),Object(d.jsxs)("div",{className:"modal-body",children:[Object(d.jsx)("p",{children:t}),Object(d.jsx)(Se.a,{children:r}),a]})]})})})};var Ce=function(){var e,t,n=Object(s.b)(),r=Object(s.c)(H),c=Object(s.c)(B),o=Object(s.c)(y),b=Object(s.c)(R),j=Object(s.c)(k),h=Object(s.c)(w),f=Object(s.c)(A),p=Object(s.c)(S),g=Object(a.useCallback)((function(){return n(ie(!r))}),[r,n]),O=Object(a.useState)(null),v=Object(i.a)(O,2),x=v[0],N=v[1];if(x){var T=function(){return N(null)};switch(x.type){case"confirmation":e=Object(d.jsx)(u,{confirm:function(){n(x.callback()),N(null)},cancel:T,children:x.message||""});break;case"help":e=Object(d.jsx)(Me,{closeHandler:T,dismissAllHandler:function(){T(),g(!1)}});break;default:throw new Le("Unknown dialog type: ".concat(x.type,"."))}}p?e=Object(d.jsx)(Le,{message:"Either this integration terminated or the session ended",children:Object(d.jsxs)("p",{children:["Attempt to ",Object(d.jsx)("a",{href:"../",children:"return to a parent app"})]})}):h&&"MatlabInstallError"===h.type&&(e=Object(d.jsx)(Le,{message:h.message})),Object(a.useEffect)((function(){o||n(he())}),[n,o]),Object(l.a)((function(){n(he())}),c),Object(a.useEffect)((function(){null!==f&&(window.location.href=f)}),[f]),e?t=e:o&&!b?t=Object(d.jsx)(we,{}):b&&!e&&(t=Object(d.jsx)(ke,{closeHandler:g,children:Object(d.jsx)(Ee,{callback:function(e){return N(e)}})}));var E=r?Object(d.jsx)(m,{children:t}):null,_=j?Object(d.jsx)(xe,{url:"./index-jsd-cr.html"}):null,M=r?null:Object(d.jsx)(ve,{});return Object(d.jsxs)("div",{"data-testid":"app",className:"main",children:[M,_,E]})},Ie=n(21);var Be=Object(o.b)({licensingInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return Object(Ie.a)({},t.status.licensing);default:return e}},matlabStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return t.status.matlab.status;default:return e}},matlabVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return t.status.matlab.version;default:return e}},wsEnv:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return t.status.wsEnv;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case q:case z:case K:case Z:return!0;case $:case ee:case te:case ne:case ae:case re:return!1;default:return e}},hasFetched:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return!0;default:return e}},isSubmitting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case z:case K:case Z:return!0;case ee:case te:case ne:case ae:case re:return!1;default:return e}},fetchAbortController:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new AbortController,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case q:case z:case K:case Z:case ce:return t.fetchAbortController;default:return e}},fetchFailCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:case ee:case te:case ne:case ae:return 0;case re:return e+1;default:return e}}}),Re=Object(o.b)({triggerPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:window.innerWidth/2+27,y:0},t=arguments.length>1?arguments[1]:void 0;return t.type===W?{x:t.x,y:t.y}:e},tutorialHidden:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Q?t.hidden:e},overlayVisibility:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return t.visibility;case $:if(!0===t.previousMatlabPending&&"up"===t.status.matlab.status)return!1;default:return e}},serverStatus:Be,loadUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===te?t.loadUrl:e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{message:t.error,logs:null};case $:case ee:case te:case ne:case ae:return t.status.error?{message:t.status.error.message,logs:t.status.error.logs,type:t.status.error.type}:null;default:return e}},envConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===se?t.config:e}}),Ue=n(20),De="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,Pe=Object(o.d)(Re,De(Object(o.a)(Ue.a)));c.a.render(Object(d.jsx)(s.a,{store:Pe,children:Object(d.jsx)(Ce,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e239f4cd.chunk.js.map