
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Installation &#8212; CmdStanPy 1.0.0 documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/project-template.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="“Hello, World”" href="hello_world.html" />
    <link rel="prev" title="Overview" href="overview.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<link rel="stylesheet" href="_static/basic.css" type="text/css" />

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
<nav id="navbar-main" class="navbar navbar-dark navbar-expand-lg fixed-top bd-navbar"
    style="background-color: #222222;"><div class="container-xl">

  <div id="navbar-start">
    
    <!-- This will display the version of the docs -->
<a class='navbar-brand' href='index.html'>CmdStanPy 1.0.0</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="overview.html">
  Overview
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="hello_world.html">
  “Hello, World”
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="workflow.html">
  CmdStanPy Workflow
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="examples.html">
  CmdStanPy Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/mcmc_stan" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/stan-dev/cmdstanpy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discourse.mc-stan.org/" rel="noopener" target="_blank" title="Forums">
            <span><i class="fas fa-users"></i></span>
            <label class="sr-only">Forums</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
</nav>


    <div class="container-xl">
      <div class="row">
          
            
            <div class="col-12 col-md-1 col-xl-2 bd-sidebar no-sidebar"></div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                <form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
              </div>
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conda-users-recommended">
   Conda users (Recommended)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pip-non-conda-users">
   Pip (non-Conda) users
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installing-cmdstan">
   Installing CmdStan
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     Prerequisites
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-install-cmdstan">
     Function
     <code class="docutils literal notranslate">
      <span class="pre">
       install_cmdstan
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#diy-installation">
     DIY Installation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#post-installation-setting-environment-variables">
     Post Installation: Setting Environment Variables
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/stan-dev/cmdstanpy/edit/develop/docsrc/installation.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-11 col-xl-8 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>CmdStanPy is a pure-Python3 package, but it relies on CmdStan for all
of its functionality. There are several ways to install CmdStan and CmdStanPy,
which depend on the kind of user you are.</p>
<section id="conda-users-recommended">
<h2>Conda users (Recommended)<a class="headerlink" href="#conda-users-recommended" title="Permalink to this headline">¶</a></h2>
<p>If you use <a class="reference external" href="https://docs.conda.io/en/latest/">conda</a>,
installation of both can be done very simply. CmdStanPy
and CmdStan are both available via the
<a class="reference external" href="https://conda-forge.org/">conda-forge</a> repository.</p>
<p>We recommend creating a new environment for CmdStan[Py]:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -n cmdstan -c conda-forge cmdstanpy
</pre></div>
</div>
<p>but installation is possible in an existing environment
(Note: you must re-activate the environment after running this command!):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install -c conda-forge cmdstanpy
</pre></div>
</div>
<p>These commands will install CmdStanPy, CmdStan, and the
required compilers for using CmdStan on your system inside
a conda environment. To use them, run <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">cmdstan</span></code>,
or whichever name you used for your environment (following <code class="docutils literal notranslate"><span class="pre">-n</span></code>
above).</p>
<p>Note that CmdStan is only available on conda for versions
2.26.1 and newer. If you require an older version, you must use
one of the following methods to install it. If you require a
version of CmdStan <em>newer</em> than 2.26.1”, but not the latest,
you can install it in the standard conda way by specifying
<code class="docutils literal notranslate"><span class="pre">cmdstan==VERSION</span></code> in the install command.</p>
</section>
<section id="pip-non-conda-users">
<h2>Pip (non-Conda) users<a class="headerlink" href="#pip-non-conda-users" title="Permalink to this headline">¶</a></h2>
<p>CmdStan can also be installed from PyPI via URL: <a class="reference external" href="https://pypi.org/project/cmdstanpy/">https://pypi.org/project/cmdstanpy/</a> or from the
command line using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --upgrade cmdstanpy
</pre></div>
</div>
<p>The optional packages are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xarray</span></code>, an n-dimension labeled dataset package which can be used for outputs</p></li>
</ul>
<p>To install CmdStanPy with all the optional packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --upgrade cmdstanpy<span class="o">[</span>all<span class="o">]</span>
</pre></div>
</div>
<p>To install the current develop branch from GitHub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -e git+https://github.com/stan-dev/cmdstanpy@/develop#egg<span class="o">=</span>cmdstanpy
</pre></div>
</div>
<p>If you install CmdStanPy from GitHub,
<strong>you must install CmdStan</strong>. The recommended way for Pip users
to do so is via the <code class="docutils literal notranslate"><span class="pre">install_cmdstan</span></code> function
<a class="reference internal" href="#install-cmdstan-fun"><span class="std std-ref">described below</span></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Note for PyStan &amp; RTools users:</strong>  PyStan and CmdStanPy should be installed in
separate environments if you are using the RTools toolchain (primarily Windows users).
If you already have PyStan installed, you should take care to install CmdStanPy in its own
virtual environment.</p>
<p><strong>Jupyter notebook users:</strong>  CmdStanPy can display progress bars during sampling
as well as during the CmdStan build process; these are implemented using the
<a class="reference external" href="https://github.com/tqdm/tqdm">tqdm</a> package,  which uses the
<a class="reference external" href="https://ipywidgets.readthedocs.io/en/latest/index.html">ipywidgets</a> package
in order to update the browser display.  For further help on installation
and configuration, see
<a class="reference external" href="https://ipywidgets.readthedocs.io/en/latest/user_install.html#">ipywidgets installation instructions</a>
and <a class="reference external" href="https://github.com/tqdm/tqdm/issues/394#issuecomment-384743637">this tqdm GitHub issue</a>.</p>
</div>
</section>
<section id="installing-cmdstan">
<h2>Installing CmdStan<a class="headerlink" href="#installing-cmdstan" title="Permalink to this headline">¶</a></h2>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>CmdStanPy requires an installed C++ toolchain
consisting of a modern C++ compiler and the GNU-Make utility.</p>
<ul class="simple">
<li><p>Windows: CmdStanPy provides the function <code class="docutils literal notranslate"><span class="pre">install_cxx_toolchain</span></code></p></li>
<li><p>Linux: install g++ 4.9.3 or clang 6.0.  (GNU-Make is the default <code class="docutils literal notranslate"><span class="pre">make</span></code> utility)</p></li>
<li><p>maxOS:  install XCode and Xcode command line tools via command: <cite>xcode-select –install</cite>.</p></li>
</ul>
</section>
<section id="function-install-cmdstan">
<span id="install-cmdstan-fun"></span><h3>Function <code class="docutils literal notranslate"><span class="pre">install_cmdstan</span></code><a class="headerlink" href="#function-install-cmdstan" title="Permalink to this headline">¶</a></h3>
<p>CmdStanPy provides the function <a class="reference internal" href="api.html#cmdstanpy.install_cmdstan" title="cmdstanpy.install_cmdstan"><code class="xref py py-func docutils literal notranslate"><span class="pre">install_cmdstan()</span></code></a> which
downloads CmdStan from GitHub and builds the CmdStan utilities.
It can be can be called from within Python or from the command line.</p>
<p>The default install location is a hidden directory in the user <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> directory
named <code class="docutils literal notranslate"><span class="pre">.cmdstan</span></code>.  This directory will be created by the install script.</p>
<ul class="simple">
<li><p>From Python</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cmdstanpy</span>
<span class="n">cmdstanpy</span><span class="o">.</span><span class="n">install_cmdstan</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><p>From the command line on Linux or MacOSX</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>install_cmdstan
ls -F ~/.cmdstan
</pre></div>
</div>
<ul class="simple">
<li><p>On Windows</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m cmdstanpy.install_cmdstan
dir <span class="s2">&quot;%HOME%/.cmdstan&quot;</span>
</pre></div>
</div>
<p>The named arguments: <cite>-d &lt;directory&gt;</cite> and  <cite>-v &lt;version&gt;</cite>
can be used to override these defaults:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>install_cmdstan -d my_local_cmdstan -v <span class="m">2</span>.27.0
ls -F my_local_cmdstan
</pre></div>
</div>
</section>
<section id="diy-installation">
<h3>DIY Installation<a class="headerlink" href="#diy-installation" title="Permalink to this headline">¶</a></h3>
<p>If you with to install CmdStan yourself, follow the instructions
in the <a class="reference external" href="https://mc-stan.org/docs/cmdstan-guide/cmdstan-installation.html">CmdStan User’s Guide</a>.</p>
</section>
<section id="post-installation-setting-environment-variables">
<h3>Post Installation: Setting Environment Variables<a class="headerlink" href="#post-installation-setting-environment-variables" title="Permalink to this headline">¶</a></h3>
<p>The default for the CmdStan installation location
is a directory named <code class="docutils literal notranslate"><span class="pre">.cmdstan</span></code> in your <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> directory. <a class="footnote-reference brackets" href="#id2" id="id1">1</a>
If you have installed CmdStan in a different directory,
then you can set the environment variable <code class="docutils literal notranslate"><span class="pre">CMDSTAN</span></code> to this
location and it will be picked up by CmdStanPy. <cite>Note:</cite> This is done
for you if you installed via <code class="docutils literal notranslate"><span class="pre">conda</span></code>, as cmdstan will be installed
in the <code class="docutils literal notranslate"><span class="pre">bin/</span></code> subfolder of the environment directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CMDSTAN</span><span class="o">=</span><span class="s1">&#39;/path/to/cmdstan-2.27.0&#39;</span>
</pre></div>
</div>
<p>The CmdStanPy commands <code class="docutils literal notranslate"><span class="pre">cmdstan_path</span></code> and <code class="docutils literal notranslate"><span class="pre">set_cmdstan_path</span></code>
get and set this environment variable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cmdstanpy</span> <span class="kn">import</span> <span class="n">cmdstan_path</span><span class="p">,</span> <span class="n">set_cmdstan_path</span>

<span class="n">oldpath</span> <span class="o">=</span> <span class="n">cmdstan_path</span><span class="p">()</span>
<span class="n">set_cmdstan_path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span><span class="s1">&#39;to&#39;</span><span class="p">,</span><span class="s1">&#39;cmdstan&#39;</span><span class="p">))</span>
<span class="n">newpath</span> <span class="o">=</span> <span class="n">cmdstan_path</span><span class="p">()</span>
</pre></div>
</div>
<p>To use custom <code class="docutils literal notranslate"><span class="pre">make</span></code>-tool use <code class="docutils literal notranslate"><span class="pre">set_make_env</span></code> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cmdstanpy</span> <span class="kn">import</span> <span class="n">set_make_env</span>
<span class="n">set_make_env</span><span class="p">(</span><span class="s2">&quot;mingw32-make.exe&quot;</span><span class="p">)</span> <span class="c1"># On Windows with mingw32-make</span>
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>In very early versions, this hidden directory was named <code class="docutils literal notranslate"><span class="pre">.cmdstanpy</span></code></p>
</dd>
</dl>
</section>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="hello_world.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">“Hello, World”</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Stan Development Team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.1.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>