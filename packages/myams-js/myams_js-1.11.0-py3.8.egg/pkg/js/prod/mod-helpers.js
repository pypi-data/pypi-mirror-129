!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.modHelpers=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.helpers=void 0;var i=MyAMS.$,t={clearValue:function(e){e=i(e.currentTarget).data("target");e&&i(e).val(null)},clearDatetimeValue:function(e){e=i(e.currentTarget).data("target"),e=i(e).data("datetimepicker");e&&e.date(null)},select2ChangeHelper:function(e){var t,e=i(e.currentTarget),n=e.data(),a=i(n.amsSelect2HelperTarget);"html"===n.amsSelect2HelperType?(a.html('<div class="text-center"><i class="fas fa-2x fa-spinner fa-spin"></i></div>'),(t={})[n.amsSelect2HelperArgument||"value"]=e.val(),i.get(n.amsSelect2HelperUrl,t).then(function(e){(MyAMS.core.getFunctionByName(n.amsSelect2HelperCallback)||function(e){e?(a.html(e),MyAMS.core.initContent(a).then()):a.empty()})(e)}).catch(function(){a.empty()})):(t=n.amsSelect2HelperCallback)&&MyAMS.core.executeFunctionByName(t,e,n)},refreshElement:function(e,a){return new Promise(function(e,t){var n=i('[id="'.concat(a.object_id,'"]'));MyAMS.core.executeFunctionByName(MyAMS.config.clearContent,document,n).then(function(){n.replaceWith(i(a.content)),n=i('[id="'.concat(a.object_id,'"]')),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,n).then(function(){e(n)},t)},t)})},refreshWidget:function(e,o){return new Promise(function(e,t){var n=i('[id="'.concat(o.widget_id,'"]')),a=n.parents(".widget-group");MyAMS.core.executeFunctionByName(MyAMS.config.clearContent,document,a).then(function(){a.replaceWith(i(o.content)),n=i('[id="'.concat(o.widget_id,'"]')),a=n.parents(".widget-group"),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,a).then(function(){e(n)},t)},t)})},addTableRow:function(e,c){return new Promise(function(e,t){var n,a='table[id="'.concat(c.table_id,'"]'),o=i(a),a=o.DataTable();c.data?(a.rows.add(c.data).draw(),n=i('tr[id="'.concat(c.row_id,'"]'),o),e(n)):(n=i(c.content),a.rows.add(n).draw(),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,n).then(function(){e(n)},t))})},refreshTableRow:function(e,r){return new Promise(function(e,t){var n,a='tr[id="'.concat(r.row_id,'"]'),o=i(a),c=o.parents("table").first();r.data?i.fn.DataTable?(c=c.DataTable(),"string"==typeof r.data?(c.row(a).remove().draw(),c.row.add(i(r.data)).draw()):c.row(a).data(r.data),e(o)):t("No DataTable plug-in available!"):(n=i(r.content),o.replaceWith(n),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,document,n).then(function(){e(n)},t))})},refreshImage:function(e,t){i('[id="'.concat(t.image_id,'"]')).attr("src",t.src)},moveElementToParentEnd:function(e){var t=e.parent();return e.detach().appendTo(t)},hideDropdown:function(e){i(e.target).closest(".dropdown-menu").dropdown("hide")}};e.helpers=t,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("helpers"):(MyAMS.helpers=t,console.debug("MyAMS: helpers module loaded...")))});